# V7.3 Research: Event Category Expansion

**Version**: 7.3.0-draft
**Status**: Research
**Created**: 2026-01-03
**Author**: Claude Development Team

---

## Problem Statement

During investigation of the plural category bug (LLM returns "Commitments" instead of "Commitment"), we identified a deeper question:

> Are our 8 fixed categories sufficient for all document types a human might want to remember?

### Current Categories (V6)

| Category | Description | Example |
|----------|-------------|---------|
| Commitment | Promises, deadlines, deliverables | "I'll have it done by Friday" |
| Execution | Actions taken, completions | "Deployed v2.3 to production" |
| Decision | Choices made, directions set | "We decided to use Postgres" |
| Collaboration | Meetings, discussions, handoffs | "Synced with design team" |
| QualityRisk | Issues, blockers, concerns | "Security audit found XSS" |
| Feedback | User input, reviews, critiques | "Users say login is confusing" |
| Change | Modifications, pivots, updates | "Changed pricing to $149" |
| Stakeholder | Who's involved, roles | "Added Bob as reviewer" |

### Document Types to Support

- Meeting minutes
- Manager notes / 1:1s
- Email threads
- Slack/chat transcripts
- Code samples / technical docs
- How-tos / tutorials
- Personal notes / journals
- Research papers / articles
- Contracts / legal docs
- Project plans / roadmaps

---

## Research Questions

1. What categories do other knowledge/memory systems use?
2. Are there standard taxonomies for information extraction?
3. What's missing from our current 8 categories?
4. Should categories be fixed, extensible, or fully dynamic?

---

## Research Findings

### 1. ACE (Automatic Content Extraction) - 33 Event Types

The gold standard for NLP event extraction. 8 top-level types, 33 subtypes:

| Type | Subtypes |
|------|----------|
| **LIFE** | Be-Born, Marry, Divorce, Injure, Die |
| **MOVEMENT** | Transport |
| **TRANSACTION** | Transfer-Ownership, Transfer-Money |
| **BUSINESS** | Start-Org, Merge-Org, Declare-Bankruptcy, End-Org |
| **CONTACT** | Meet, Phone-Write |
| **CONFLICT** | Attack, Demonstrate |
| **PERSONNEL** | Start-Position, End-Position, Nominate, Elect |
| **JUSTICE** | Arrest-Jail, Release-Parole, Trial-Hearing, Charge-Indict, Sue, Convict, Sentence, Fine, Execute, Extradite, Acquit, Appeal, Pardon |

**Observation**: ACE focuses on news/intelligence domains. Missing: work commitments, feedback, quality issues.

Sources:
- [LDC ACE Guidelines](https://www.ldc.upenn.edu/sites/www.ldc.upenn.edu/files/english-events-guidelines-v5.4.3.pdf)
- [ACE Program Overview](https://www.ldc.upenn.edu/collaborations/past-projects/ace)

### 2. Zettelkasten / PKM - Note Types

Personal knowledge management uses different categorization:

| Note Type | Purpose |
|-----------|---------|
| **Fleeting Notes** | Temporary captures, inbox items |
| **Literature Notes** | From reading/learning content |
| **Permanent Notes** | Atomic ideas, one concept per note |
| **Structure Notes** | Indexes, entry points, organization |

**Observation**: PKM focuses on knowledge organization, not event extraction. But the "atomic" principle applies.

Sources:
- [Types of Notes in Zettelkasten](https://zk.zettel.page/types-of-notes)
- [PKM Guide](https://capacities.io/blog/guide-to-pkm)

### 3. Enterprise Knowledge Graphs

Event-centric knowledge graphs for enterprises focus on:

- **Entity-Event relationships** (who did what)
- **Causal chains** (what led to what)
- **Temporal sequences** (when things happened)

Key insight: Events link entities together. The event type matters less than the connections.

Sources:
- [Entity Event Knowledge Graphs](https://allegrograph.com/wp-content/uploads/2020/06/Entity-Event-Knowledge-Graphs-White-Paper-v692020.pdf)
- [Enterprise Knowledge Graphs](https://enterprise-knowledge.com/a-semantic-layer-approach-to-enterprise-knowledge-management-and-information-findability/)

### 4. Modern Event Extraction (2025)

Recent research emphasizes:

- **Event schemas as interfaces** for grounding and verification
- **Event-centric structures** as intermediate representations for reasoning
- **Event stores as episodic memory** beyond context windows
- **Dynamic ontologies** that adapt to domains

Source: [Event Extraction Survey (arXiv 2025)](https://arxiv.org/html/2512.19537v1)

---

### 5. MAVEN Dataset - 168 Event Types

Massive general domain event detection dataset derived from FrameNet:
- 168 event types organized hierarchically
- Based on linguistic frames (actions, states, processes)
- More granular than ACE but same news/encyclopedic focus

Source: [MAVEN Dataset (EMNLP 2020)](https://aclanthology.org/2020.emnlp-main.129/)

### 6. GTD (Getting Things Done) - David Allen

Task/action management system with these categories:

| Category | Purpose |
|----------|---------|
| **Inbox** | Unprocessed captures |
| **Next Actions** | Doable now, no date |
| **Waiting For** | Blocked on others |
| **Someday/Maybe** | Future possibilities |
| **Projects** | Multi-step outcomes |
| **Calendar** | Date-specific |
| **Reference** | Non-actionable info |

**Contexts** (where/how): @phone, @computer, @office, @home, @errands

Source: [GTD Guide](https://hamberg.no/gtd)

### 7. PARA Method - Tiago Forte

Digital organization system with 4 categories:

| Category | Definition |
|----------|------------|
| **Projects** | Short-term with end goal |
| **Areas** | Ongoing responsibilities |
| **Resources** | Topics of interest |
| **Archives** | Inactive items |

Source: [PARA Method](https://fortelabs.com/blog/para/)

### 8. Jira Issue Types

Software project management hierarchy:

| Type | Purpose |
|------|---------|
| **Epic** | Large initiative |
| **Story** | User-facing feature |
| **Task** | Work to be done |
| **Bug** | Defect to fix |
| **Subtask** | Breakdown of above |

Service Management adds: Change, Incident, Problem, Service Request

Source: [Atlassian Jira Issue Types](https://support.atlassian.com/jira-cloud-administration/docs/what-are-issue-types/)

### 9. Google Calendar Event Types

| Type | Purpose |
|------|---------|
| **Event** | Scheduled time block |
| **Task** | To-do without time block |
| **Reminder** | Simple prompt |
| **Focus Time** | Do-not-disturb block |
| **Out of Office** | Availability marker |
| **Appointment Slot** | Bookable time |

Source: [Google Calendar API](https://developers.google.com/workspace/calendar/api/guides/event-types)

### 10. Gmail Categories

| Category | Content |
|----------|---------|
| **Primary** | Direct personal email |
| **Social** | Social network notifications |
| **Promotions** | Marketing, deals |
| **Updates** | Automated notifications |
| **Forums** | Mailing lists, groups |

Source: [Gmail Categories](https://support.google.com/mail/answer/3094499)

### 11. Todoist Organization

| Dimension | Purpose |
|-----------|---------|
| **Projects** | Container for related tasks |
| **Labels** | Cross-cutting tags (@context) |
| **Priority** | P1-P4 urgency levels |
| **Filters** | Custom views/queries |

Source: [Todoist Labels](https://www.todoist.com/help/articles/introduction-to-labels-dSo2eE)

---

## Comprehensive Gap Analysis

### Our Categories vs ALL Systems

| Our Category | ACE | MAVEN | GTD | PARA | Jira | Calendar | Gmail |
|--------------|-----|-------|-----|------|------|----------|-------|
| Commitment | - | partial | Next Actions | Projects | Story | Event | - |
| Execution | - | partial | - | - | Task | - | - |
| Decision | - | - | - | - | - | - | - |
| Collaboration | CONTACT | partial | Waiting For | - | - | Event | - |
| QualityRisk | - | - | - | - | Bug | - | - |
| Feedback | - | - | - | Resources | - | - | - |
| Change | partial | partial | - | - | Change | - | Updates |
| Stakeholder | PERSONNEL | partial | Agendas | Areas | - | - | - |

### What's MISSING from our system

| Missing Category | Found In | Use Case |
|------------------|----------|----------|
| **Life Events** | ACE | Birthdays, health, milestones |
| **Transaction** | ACE | Purchases, payments, contracts |
| **Movement** | ACE | Travel, relocation |
| **Learning/Insight** | PKM, PARA | New knowledge, discoveries |
| **Reference/Fact** | GTD, PARA | Static information |
| **Question** | - | Open questions to answer |
| **Idea** | PKM | Creative thoughts |
| **Goal** | GTD, Calendar | Desired outcomes |
| **Reminder** | GTD, Calendar | Time-triggered prompts |
| **Conflict/Issue** | ACE, Jira | Disputes, problems |

### Key Insight: Different Systems, Different Purposes

| System Type | Focus | Category Style |
|-------------|-------|----------------|
| **NLP/Academic** (ACE, MAVEN) | News extraction | Event types (nouns) |
| **Task Management** (GTD, Todoist) | Action tracking | Action states (verbs) |
| **Knowledge Mgmt** (PKM, PARA) | Information org | Note types (containers) |
| **Project Mgmt** (Jira) | Work tracking | Work items (deliverables) |
| **Calendar** (Google) | Time blocking | Time types |
| **Email** (Gmail) | Communication | Sender/content types |

**Our system bridges multiple purposes** - we extract events (like NLP) but for personal/work knowledge (like PKM).

---

## Options Under Consideration

### Option A: Keep Fixed Categories + Normalization
- Pros: Predictable, testable, consistent UX
- Cons: May miss important event types

### Option B: Fixed Categories + "Other" Catch-All
- Pros: Captures everything, still structured
- Cons: "Other" bucket becomes noise

### Option C: Extensible Categories (User-Defined)
- Pros: Customizable per use case
- Cons: Fragmentation, harder to query across

### Option D: Dynamic Categories (LLM-Suggested)
- Pros: Adapts to any content type
- Cons: Unpredictable, harder to validate

### Option E: Hierarchical Categories
- Pros: Structure + flexibility
- Cons: Complexity

---

## Technical Considerations

### Structured Output Enforcement

Current approach:
```python
response_format={"type": "json_object"}
```

Could enforce with JSON schema:
```python
response_format={
    "type": "json_schema",
    "json_schema": {
        "schema": {
            "properties": {
                "category": {"enum": ["Commitment", "Decision", ...]}
            }
        }
    }
}
```

Question: If we enforce enum, do we lose valuable signals the LLM might extract?

---

## Decision Log

| Date | Decision | Rationale |
|------|----------|-----------|
| 2026-01-03 | Started research | Plural bug revealed deeper category question |

---

## Next Steps

- [x] Web research on event extraction taxonomies
- [x] Compare with our categories
- [ ] Prototype dynamic category extraction
- [ ] Evaluate trade-offs
- [ ] Make recommendation

---

## Revised Direction: Emergent Schema with Frequency-Based Consolidation

After deeper research, the hybrid approach with fixed categories is **too limiting**. Modern research points to a fully emergent approach.

---

## Research Synthesis: What Science Says

### 1. AutoSchemaKG (2025) - Dynamic Schema Induction

> "AutoSchemaKG eliminates the need for predefined schemas... achieves **95% semantic alignment** with human-crafted schemas with **zero manual intervention**."

Key insight: LLMs can induce schemas that match human expectations without being told what to look for.

Source: [AutoSchemaKG (arXiv 2025)](https://arxiv.org/abs/2505.23628)

### 2. Preferential Attachment - "The Rich Get Richer"

> "Nodes with higher degree have stronger ability to attract links... heavily linked nodes (hubs) tend to quickly accumulate even more links."

Key insight: Frequently occurring categories/entities naturally become "hubs" - no need to pre-designate them.

Source: [BarabÃ¡siâ€“Albert model](https://en.wikipedia.org/wiki/BarabÃ¡siâ€“Albert_model), [Neo4j Preferential Attachment](https://neo4j.com/docs/graph-data-science/current/alpha-algorithms/preferential-attachment/)

### 3. Tiered Memory Architecture (MemGPT, Titans)

> "Memory is divided into distinct tiers: main context (RAM) and external context (disk). Episodic memories gradually transform into semantic memories through consolidation."

Key insight: Information moves between layers based on usage and importance, not predefined rules.

Source: [AI Memory Architecture Survey (2025)](https://arxiv.org/html/2504.15965v1), [MemGPT](https://informationmatters.org/2025/10/memgpt-engineering-semantic-memory-through-adaptive-retention-and-context-summarization/)

### 4. Memory Decay & Forgetting (Memory Bear, ACT-R)

> "When activation falls below a threshold, the memory enters a 'pending-forget' state. Based on context and relevance, the system selectively weakens or compresses connections."

Key insight: Low-frequency items naturally decay - no manual deprecation needed.

Source: [Memory Bear (2024)](https://arxiv.org/html/2512.20651), [Ebbinghaus Forgetting Curve](https://en.wikipedia.org/wiki/Forgetting_curve)

### 5. Neo4j Schema-Less Philosophy

> "Neo4j is schema optional - you can create data without defining a schema up front. Labels can be added and removed during runtime."

Key insight: Structure emerges from data, not from predefined schemas.

Source: [Neo4j Graph Concepts](https://neo4j.com/docs/getting-started/appendix/graphdb-concepts/)

---

## Proposed Architecture: Emergent Memory

### Core Principle

**No hardcoded types. Frequency determines structure.**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         EXTRACTION LAYER                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  LLM extracts freely:                                               â”‚
â”‚  â€¢ event_type: ANY string (no enum)                                 â”‚
â”‚  â€¢ entity_type: ANY string (no enum)                                â”‚
â”‚  â€¢ confidence, narrative, actors, evidence...                       â”‚
â”‚                                                                      â”‚
â”‚  No validation against fixed list. Store everything.                â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     FREQUENCY TRACKING LAYER                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  For each category/type:                                            â”‚
â”‚  â€¢ occurrence_count: How many times seen                            â”‚
â”‚  â€¢ last_accessed: When last retrieved                               â”‚
â”‚  â€¢ activation: f(frequency, recency, connections)                   â”‚
â”‚                                                                      â”‚
â”‚  Categories cluster via embedding similarity:                       â”‚
â”‚  "Commitment" â‰ˆ "Promise" â‰ˆ "Pledge" â†’ same semantic cluster        â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      CONSOLIDATION LAYER                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  HIGH FREQUENCY (activation > threshold_high):                      â”‚
â”‚  â†’ Becomes "hub" category                                           â”‚
â”‚  â†’ Gets richer schema (more attributes tracked)                     â”‚
â”‚  â†’ Faster retrieval, higher weight in results                       â”‚
â”‚                                                                      â”‚
â”‚  MEDIUM FREQUENCY (threshold_low < activation < threshold_high):    â”‚
â”‚  â†’ Normal storage                                                   â”‚
â”‚  â†’ Standard retrieval                                               â”‚
â”‚                                                                      â”‚
â”‚  LOW FREQUENCY (activation < threshold_low):                        â”‚
â”‚  â†’ Compressed storage                                               â”‚
â”‚  â†’ May be merged with similar categories                            â”‚
â”‚  â†’ Eventually archived/deprecated                                   â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Activation Function (from ACT-R cognitive architecture)

```python
# Base-level activation: how "accessible" is this memory?
activation = ln(Î£(t_j ^ -d)) + noise

where:
  t_j = time since j-th access
  d = decay rate (~0.5 in human cognition)

# Higher activation = more frequent + more recent access
# Items below threshold enter "pending-forget" state
```

### Entity Layer (Separate Vector Collection)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ENTITY COLLECTION                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  Each entity stored with:                                           â”‚
â”‚  â€¢ name, type (LLM-suggested, not enum)                             â”‚
â”‚  â€¢ embedding (for semantic search)                                  â”‚
â”‚  â€¢ activation score                                                 â”‚
â”‚  â€¢ dynamic attributes (schema grows from usage):                    â”‚
â”‚    - Person: role?, org?, email? (if ever mentioned)                â”‚
â”‚    - Place: address?, coordinates? (if ever mentioned)              â”‚
â”‚    - Concept: definition?, related? (if ever queried)               â”‚
â”‚                                                                      â”‚
â”‚  Links to:                                                          â”‚
â”‚  â€¢ Events where entity participates                                 â”‚
â”‚  â€¢ Artifacts where entity is mentioned                              â”‚
â”‚  â€¢ Other entities (co-occurrence, explicit relationships)           â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Recall Returns Full Graph Context

```
Query: "What do I know about Bob?"

â”Œâ”€ Entity Match â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Bob (person, activation=0.87)                                      â”‚
â”‚  â””â”€ attributes: {role: "engineer", org: "Acme", email: "..."}       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€â”€â–º Events (12 where Bob is actor/subject)
         â”‚    â”œâ”€ "Commitment": Bob committed to API by Friday
         â”‚    â”œâ”€ "Meeting": Bob met with Alice re: roadmap
         â”‚    â”œâ”€ "Insight": Bob discovered caching bug
         â”‚    â””â”€ ... (any category LLM extracted)
         â”‚
         â”œâ”€â”€â–º Artifacts (5 mentioning Bob)
         â”‚    â”œâ”€ Meeting notes 2026-01-02
         â”‚    â”œâ”€ Email thread: Project X
         â”‚    â””â”€ ...
         â”‚
         â””â”€â”€â–º Related Entities
              â”œâ”€ Alice (high co-occurrence)
              â”œâ”€ Project X (Bob is stakeholder)
              â””â”€ Acme Corp (Bob's org)

Consuming LLM decides what's relevant from this context.
```

---

## Comparison: Fixed vs Emergent

| Aspect | Fixed Categories (V6) | Emergent Categories (V8) |
|--------|----------------------|--------------------------|
| Categories | 8 predefined | Unlimited, LLM-suggested |
| Validation | Reject unknown | Accept all, track frequency |
| Schema | Static | Grows from usage |
| Forgetting | Manual | Automatic (activation decay) |
| Hubs | None | Emerge from frequency |
| Coverage | Work-focused | Life-encompassing |

---

## Open Design Questions

1. **Activation thresholds**: What values for high/medium/low?
2. **Decay rate**: How fast should unused items fade?
3. **Clustering**: How to merge similar categories? (cosine similarity threshold?)
4. **Schema expansion**: When to add new attributes to entity types?
5. **Compression**: How to store low-activation items efficiently?

---

## References

### Event Extraction & NLP
- [ACE Event Annotation Guidelines](https://www.ldc.upenn.edu/sites/www.ldc.upenn.edu/files/english-events-guidelines-v5.4.3.pdf)
- [MAVEN Dataset (168 event types)](https://aclanthology.org/2020.emnlp-main.129/)
- [Event Extraction Survey 2025](https://arxiv.org/html/2512.19537v1)

### Knowledge Management
- [Types of Notes in Zettelkasten](https://zk.zettel.page/types-of-notes)
- [PARA Method](https://fortelabs.com/blog/para/)
- [GTD Guide](https://hamberg.no/gtd)
- [Entity Event Knowledge Graphs Whitepaper](https://allegrograph.com/wp-content/uploads/2020/06/Entity-Event-Knowledge-Graphs-White-Paper-v692020.pdf)

### Emergent Schema & Self-Organizing Systems
- [AutoSchemaKG - Dynamic Schema Induction (2025)](https://arxiv.org/abs/2505.23628)
- [Agentic Deep Graph Reasoning - Self-Organizing Networks](https://arxiv.org/html/2502.13025v1)
- [Neo4j Schema-Less Design](https://neo4j.com/docs/getting-started/appendix/graphdb-concepts/)

### Network Science & Preferential Attachment
- [BarabÃ¡siâ€“Albert Model](https://en.wikipedia.org/wiki/BarabÃ¡siâ€“Albert_model)
- [Neo4j Preferential Attachment Algorithm](https://neo4j.com/docs/graph-data-science/current/alpha-algorithms/preferential-attachment/)

### AI Memory Architecture
- [AI Memory Survey (2025)](https://arxiv.org/html/2504.15965v1)
- [MemGPT - Tiered Memory](https://informationmatters.org/2025/10/memgpt-engineering-semantic-memory-through-adaptive-retention-and-context-summarization/)
- [LangChain Long-term Memory Concepts](https://langchain-ai.github.io/langmem/concepts/conceptual_guide/)
- [Cognee - LLM Memory Systems](https://www.cognee.ai/blog/fundamentals/llm-memory-cognitive-architectures-with-ai)

### Memory Decay & Forgetting
- [Memory Bear - ACT-R Cognitive Architecture](https://arxiv.org/html/2512.20651)
- [Ebbinghaus Forgetting Curve](https://en.wikipedia.org/wiki/Forgetting_curve)
- [Spaced Repetition Research](https://gwern.net/spaced-repetition)

### Productivity Systems
- [Jira Issue Types](https://support.atlassian.com/jira-cloud-administration/docs/what-are-issue-types/)
- [Google Calendar Event Types](https://developers.google.com/workspace/calendar/api/guides/event-types)
- [Gmail Categories](https://support.google.com/mail/answer/3094499)
- [Todoist Labels](https://www.todoist.com/help/articles/introduction-to-labels-dSo2eE)

---

## Cognee Analysis (2026-01-10)

Analysis of [topoteretes/cognee](https://github.com/topoteretes/cognee) - a mature (12K+ stars) AI memory system using ECL (Extract, Cognify, Load) pipelines.

### Key Validation: They Use Dynamic Schemas

Cognee's `KnowledgeGraph` model has **no enum constraints**:

```python
class Node(BaseModel):
    id: str
    name: str
    type: str           # No enum! LLM suggests freely
    description: str

class Edge(BaseModel):
    source_node_id: str
    target_node_id: str
    relationship_name: str  # No enum!
```

**This validates our v7.3 direction** - a production system with 12K stars operates without fixed categories.

### Reusable Patterns Identified

#### 1. Triplet-Based Graph Scoring (HIGH VALUE)

Location: `cognee/modules/retrieval/utils/brute_force_triplet_search.py`

```python
# Score triplets by sum of vector distances
def score(edge):
    n1 = edge.node1.attributes.get("vector_distance", 1)
    n2 = edge.node2.attributes.get("vector_distance", 1)
    e = edge.attributes.get("vector_distance", 1)
    return n1 + n2 + e

return heapq.nsmallest(k, self.edges, key=score)
```

**Benefit**: Holistic triplet relevance scoring. Better than our current RRF which treats nodes/edges independently.

#### 2. Two-Phase Retrieval (HIGH VALUE)

Location: `cognee/modules/graph/cognee_graph/CogneeGraph.py`

```python
async def project_graph_from_db(
    self,
    adapter: GraphDBInterface,
    relevant_ids_to_filter: Optional[List[str]] = None,  # Pre-filter!
):
    # Only project subgraph for candidate IDs from vector search
```

**Benefit**: Vector search first â†’ filter candidate IDs â†’ then graph expand only on candidates. Reduces DB load.

#### 3. Temporal Query Parsing (MEDIUM VALUE)

Location: `cognee/modules/retrieval/temporal_retriever.py`

```python
class QueryInterval(BaseModel):
    starts_at: Optional[Timestamp] = None
    ends_at: Optional[Timestamp] = None

# Extract time from natural language
time_from, time_to = await self.extract_time_from_query(query)
ids = await graph_engine.collect_time_ids(time_from=time_from, time_to=time_to)
```

**Benefit**: Enables queries like "What did Bob say last week?"

#### 4. Chunk Overlap (MEDIUM VALUE)

Location: `cognee/modules/chunking/text_chunker_with_overlap.py`

```python
class TextChunkerWithOverlap(Chunker):
    def __init__(self, ..., chunk_overlap_ratio: float = 0.0):
        self.chunk_overlap = int(max_chunk_size * chunk_overlap_ratio)
```

**Benefit**: Maintains context continuity across chunk boundaries.

#### 5. Retriever Abstraction (ARCHITECTURE)

Location: `cognee/modules/retrieval/`

Multiple specialized retrievers:
- `GraphCompletionRetriever` - LLM with graph context
- `TemporalRetriever` - Time-aware search
- `ChunksRetriever` - Raw text segments
- `TripletRetriever` - Knowledge graph triples

**Benefit**: Pluggable retrieval strategies vs our monolithic `recall()`.

#### 6. CogneeGraph In-Memory Projection

Location: `cognee/modules/graph/cognee_graph/CogneeGraph.py`

Projects subgraph from DB into memory for scoring, maps vector distances to nodes/edges, then calculates triplet importances.

**Benefit**: Efficient scoring without repeated DB queries.

### What Cognee Lacks (Our Differentiators)

| Feature | Cognee | Our v7.3 Plan |
|---------|--------|---------------|
| Activation decay (ACT-R) | No | Yes - frequency + recency |
| Memory consolidation | No | Yes - tiered storage |
| Category hub emergence | No | Yes - preferential attachment |
| Automatic forgetting | No | Yes - activation threshold |

---

## Implementation Plan (Revised)

### Risk Assessment Update

**Key assumption change**: No production data = No migration risk

| Rank | Feature | Risk | Impact | Effort | Notes |
|------|---------|------|--------|--------|-------|
| **1** | Dynamic Categories | ðŸŸ¢ Low | ðŸ”¥ High | ~2d | **No migration!** Just schema change |
| **2** | Triplet Scoring | ðŸŸ¢ Low | ðŸ”¥ High | ~2h | Additive to retrieval_service.py |
| **3** | Two-Phase Retrieval | ðŸŸ¢ Low | ðŸ”¥ High | ~4h | Optimization, no breaking changes |
| **4** | Chunk Overlap | ðŸŸ¢ Low | ðŸŸ¡ Medium | ~2h | chunking_service.py modification |
| **5** | Temporal Queries | ðŸŸ¢ Low | ðŸŸ¡ Medium | ~1d | New feature, can iterate |
| **6** | Retriever Abstraction | ðŸŸ¡ Medium | ðŸŸ¡ Medium | ~1d | Refactoring risk only |

### Execution Phases

```
PHASE 1: Core v7.3 Changes (Week 1)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Dynamic Categories                                           â”‚
â”‚    â”œâ”€ Remove category enum from event_extraction_service.py     â”‚
â”‚    â”œâ”€ Update extraction prompt: "suggest appropriate category"  â”‚
â”‚    â”œâ”€ Change semantic_event.category from ENUM to VARCHAR       â”‚
â”‚    â”œâ”€ Add category_stats table for frequency tracking           â”‚
â”‚    â””â”€ Wipe data and test                                        â”‚
â”‚                                                                 â”‚
â”‚ 2. Triplet Scoring                                              â”‚
â”‚    â”œâ”€ Add triplet_score() to retrieval_service.py               â”‚
â”‚    â”œâ”€ Embed relationship names for edge distance                â”‚
â”‚    â””â”€ Integrate into RRF ranking                                â”‚
â”‚                                                                 â”‚
â”‚ 3. Two-Phase Retrieval                                          â”‚
â”‚    â”œâ”€ Vector search returns candidate artifact IDs              â”‚
â”‚    â”œâ”€ Graph expansion only on candidates                        â”‚
â”‚    â””â”€ Benchmark performance improvement                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

PHASE 2: Enhancements (Week 2)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. Chunk Overlap                                                â”‚
â”‚    â”œâ”€ Add overlap_ratio parameter to ChunkingService            â”‚
â”‚    â”œâ”€ Default 10% overlap                                       â”‚
â”‚    â””â”€ Test context continuity                                   â”‚
â”‚                                                                 â”‚
â”‚ 5. Temporal Query Support                                       â”‚
â”‚    â”œâ”€ Add time extraction prompt                                â”‚
â”‚    â”œâ”€ Add date range filtering to recall()                      â”‚
â”‚    â””â”€ Test "last week", "in January", etc.                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

PHASE 3: Architecture (Week 3)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. Retriever Abstraction (Optional)                             â”‚
â”‚    â”œâ”€ BaseRetriever abstract class                              â”‚
â”‚    â”œâ”€ GraphRetriever, ChunksRetriever, HybridRetriever          â”‚
â”‚    â””â”€ Pluggable strategy in recall()                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Schema Changes for Dynamic Categories

```sql
-- Before (v6): Fixed enum
CREATE TYPE event_category AS ENUM (
    'Commitment', 'Execution', 'Decision', 'Collaboration',
    'QualityRisk', 'Feedback', 'Change', 'Stakeholder'
);

-- After (v7.3): Free text with frequency tracking
ALTER TABLE semantic_event
    ALTER COLUMN category TYPE VARCHAR(100);

-- New: Track category frequency for hub emergence
CREATE TABLE category_stats (
    category VARCHAR(100) PRIMARY KEY,
    occurrence_count INTEGER DEFAULT 1,
    first_seen TIMESTAMP DEFAULT NOW(),
    last_seen TIMESTAMP DEFAULT NOW(),
    last_accessed TIMESTAMP,
    access_count INTEGER DEFAULT 0
);

-- Trigger to update stats on event insert
CREATE OR REPLACE FUNCTION update_category_stats()
RETURNS TRIGGER AS $$
BEGIN
    INSERT INTO category_stats (category, occurrence_count, last_seen)
    VALUES (NEW.category, 1, NOW())
    ON CONFLICT (category) DO UPDATE SET
        occurrence_count = category_stats.occurrence_count + 1,
        last_seen = NOW();
    RETURN NEW;
END;
$$ LANGUAGE plpgsql;
```

### Extraction Prompt Change

```python
# Before (v6)
EXTRACTION_PROMPT = """
Extract events from the text. Each event must have one of these categories:
- Commitment, Execution, Decision, Collaboration,
- QualityRisk, Feedback, Change, Stakeholder
"""

# After (v7.3)
EXTRACTION_PROMPT = """
Extract events from the text. For each event, suggest an appropriate
category that best describes the event type. Use concise, singular nouns
(e.g., "Decision", "Meeting", "Insight", "Purchase", "Goal").

Common categories include but are not limited to:
- Commitment, Decision, Collaboration, Feedback
- Meeting, Discussion, Agreement, Conflict
- Goal, Milestone, Deadline, Completion
- Insight, Learning, Discovery, Question
- Risk, Issue, Blocker, Resolution

Choose the most specific category that fits. You may suggest new categories
if none of the above fit well.
"""
```

---

## Decision Log (Updated)

| Date | Decision | Rationale |
|------|----------|-----------|
| 2026-01-03 | Started research | Plural bug revealed deeper category question |
| 2026-01-10 | Analyzed cognee repo | Validated dynamic schema approach |
| 2026-01-10 | Adopted 6 patterns from cognee | Triplet scoring, two-phase retrieval, temporal queries, chunk overlap, retriever abstraction, in-memory graph projection |
| 2026-01-10 | Revised risk assessment | No prod data = no migration risk. Dynamic categories now LOW risk |
| 2026-01-10 | Set implementation order | Dynamic categories first (was last), followed by retrieval improvements |

---

## Next Steps (Updated)

- [x] Web research on event extraction taxonomies
- [x] Compare with our categories
- [x] Analyze cognee repository for reusable patterns
- [x] Document implementation plan
- [ ] Implement Phase 1: Dynamic categories + triplet scoring + two-phase retrieval
- [ ] Implement Phase 2: Chunk overlap + temporal queries
- [ ] Implement Phase 3: Retriever abstraction (optional)
- [ ] Benchmark quality improvements
